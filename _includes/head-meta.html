<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

{%- if page.title %}
  <title>{{ page.title }} | {{ site.title }}</title>
  <meta property="og:title" content="{{ page.title }} | {{ site.title }}">
{%- else %}
  <title>{{ site.title }}</title>
  <meta property="og:title" content="{{ site.title }}">
{%- endif %}

{%- if page.description %}
  <meta name="description" content="{{ page.description }}">
  <meta property="og:description" content="{{ page.description }}">
{%- endif %}

{%- assign canonical_url = site.url | append: page.url %}
<link rel="canonical" href="{{ canonical_url }}">
<meta property="og:url" content="{{ canonical_url }}">

{%- if page.lang %}
  <meta name="language" content="{{ page.lang }}">
  <html lang="{{ page.lang }}">
{%- endif %}

<meta name="robots" content="index, follow">

{%- if page.date %}
  <meta name="date" content="{{ page.date | date_to_xmlschema }}">
  <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}">
{%- endif %}

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "{{ page.title | escape }}",
  "description": "{{ page.description | escape }}",
  "datePublished": "{{ page.date | date_to_xmlschema }}",
  "inLanguage": "{{ page.lang | default: 'ja' }}",
  "url": "{{ canonical_url }}",
  "author": {
    "@type": "Organization",
    "name": "{{ site.author.name | default: site.title }}"
  }
}
</script>
