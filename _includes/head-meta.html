{# _includes/head-meta.html #}
{# 人間向けのhead要素。base.htmlでmeta charset, viewport, titleは定義済みのため、重複部分は削除。 #}
{# {% seo %}タグが多くのメタデータを生成するため、重複を避ける #}

{%- if page.lang %}
  <meta name="language" content="{{ page.lang }}">
{%- endif %}

{# {% seo %}タグは、canonical url, description, og:title, og:description, og:url, robotsなどを自動生成します #}
{% seo %}

{# ここには、{% seo %}で生成されないが人間向けページに必要なhead要素のみを記述します #}
<link rel="stylesheet" href="/assets/css/main.css">
<script src="/assets/js/analytics.js" async></script>
{# 他のスタイルシート、ファビコンなどをここに記述 #}

{%- assign canonical_url = site.url | append: page.url %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "{{ page.title | escape }}",
  "description": "{{ page.description | escape }}",
  "datePublished": "{{ page.date | date_to_xmlschema }}",
  "inLanguage": "{{ page.lang | default: 'ja' }}",
  "url": "{{ canonical_url }}",
  "author": {
    "@type": "Organization",
    "name": "{{ site.author.name | default: site.title }}"
  }
}
</script>
