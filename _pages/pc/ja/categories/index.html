---
layout: default {# 人間向けデフォルトレイアウトを指定 #}
title: "カテゴリー"
permalink: /categories/
type: categories
lang: ja
---
{# ここからがレイアウトの {{ content }} に入る部分 #}

{# base.html で読み込まれた共通変数を、このページファイル内で利用するための assign #}
{%- assign ui = common_ui -%}
{%- assign warnings_data = common_warnings_data -%}
{%- assign schema = common_schema -%}

{%- assign type = page.type | default: 'categories' -%}
{%- assign lang = page.lang | default: 'ja' -%}

{# 人間向けパスの構築 #}
{%- assign base_path = "/" | append: lang | append: "/" | append: type -%}

{# データを準備する共通部品を呼び出す #}
{% include taxonomy_data_preparer.html
  type=type
  lang=lang
  warnings_data=warnings_data
  schema=schema
%}
{# taxonomy_data_preparer.html が 'merged_items' 変数を設定する #}

<h1>{{ ui.title[type][lang] }}</h1>

<div>
  <input type="text" id="filter" placeholder="{{ ui.search_placeholder[lang] }}">
  <select id="sort">
    <option value="count">{{ ui.sort_options.count[lang] }}</option>
    <option value="name">{{ ui.sort_options.name[lang] }}</option>
  </select>
</div>

<section>
  <h2>{{ ui.all_categories_or_tags[lang] }}</h2>
  {# 準備されたデータを使ってリストを生成する共通部品を呼び出す #}
  {% include taxonomy_list_generator.html
    merged_items=merged_items
    base_path=base_path
    ui=ui
    lang=lang
    render_type='html' # 人間向けなので render_type は 'html'
    schema=schema
  %}
</section>
