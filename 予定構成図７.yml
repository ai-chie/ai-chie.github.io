# ファイル変更履歴
# 202506030059 新規作成

# 予定構成図

# GitHub Pages +  Jekyll 
# PC用・モバイル用・クローラー用　×　日本語・英語の６分岐構成のJekyllサイト構成図（現行案）
# 最適化に向けて必要であれば改善・変更予定

# 全体構成（6分岐 × 多言語 対応）

.github:
  
  workflows:
    
    __files__:
    - [generate-category-counts.yml, .github/workflows/generate-category-counts.yml]
    - [generate-proj-dir-tree.yml, .github/workflows/generate-proj-dir-tree.yml]
    - [generate-tag-counts.yml.yml, .github/workflows/generate-tag-counts.yml.yml]
    - [generate-taxonomy.yml, .github/workflows/generate-taxonomy.yml]
    - [yaml-to-json.yml, .github/workflows/yaml-to-json.yml]

_admin:
  
  __files__:
  - [autofill-date.js, _admin/autofill-date.js]
  - [autofill-uuid.js, _admin/autofill-uuid.js]
  - [index.html, _admin/index.html]  # 投稿支援UI
  - [initial_categories-tags-lists.js, _admin/initial_categories-tags-lists.js]
  - [uuid.js, _admin/uuid.js]

_data:
  
  _generated:
    
    __files__:
    - [initial_categories_list.json, _data/_generated/initial_categories_list.json]
    - [initial_tags_list.json, _data/_generated/initial_tags_list.json]
    
  taxonomy:
    
    __files__:
    - [categories.yml, _data/taxonomy/categories.yml]  # カテゴリ一覧（定義）（ja / en 含む）
    - [schema.yml, _data/taxonomy/schema.yml]  # カテゴリ・タグ共通スキーマ定義 
    - [tags.yml, _data/taxonomy/tags.yml]  # タグ一覧（定義）（ja / en 含む）
    
  welcome:
    
    en:
      
      __files__:
      - [welcome-en.md, _data/welcome/en/welcome-en.md]
      
    ja:
      
      __files__:
      - [welcome-ja.md, _data/welcome/ja/welcome-ja.md]
      
__files__:
- [generated_category_counts.yml, _data/generated_category_counts.yml]
- [generated_tag_counts.yml, _data/generated_tag_counts.yml]
- [generated_taxonomy.yml, _data/generated_taxonomy.yml]  # 自動生成された分類情報（スクリプト出力）
- [initial_categories_list.yml, _data/initial_categories_list.yml]
- [initial_tags_list.yml, _data/initial_tags_list.yml]
- [lang.yml, _data/lang.yml]
    # ↑
    # 多言語切替や表示名に使用。言語名・フラグ等の設定。言語コード（ja/en）と表示名（日本語/English）の対応づけ。
    # 言語コードと表示名、フラグなど。（言語切替UI（_includes/lang_switch.html など）多言語ナビゲーション表示、
    # メタデータ出力（<html lang="..."> など））国旗・表示ラベルなどもここで管理。
- [post_schema.yml, _data/post_schema.yml]   # 投稿の属性定義スキーマ

_export: []  # （省略）

_generated: # 自動生成された分類ページ

  en:
    
    desktop:
      
      categories:
        
        __files__:
        - [xxxx.md, _generated/ja/desktop/categories/xxxx.md]
        
      tags:
        
        __files__:
        - [yyyy.md, _generated/ja/desktop/tags/yyyy.md]
        
    mobile: []  # （省略）
    
    text: []    # （省略）

  ja:
    
    desktop: [] # （省略）
    
    mobile: []  # （省略）
    
    text: []    # （省略）

_includes:
  
  __files__:
  - [footer.html, _includes/footer.html]
  - [header.html, _includes/header.html]
  - [lang_switch.html, _includes/lang_switch.html]  # 言語切替UI
  - [post-attribute-check.html, _includes/post-attribute-check.html]
      # ↑
      # 記事ごとの属性（下書き、非表示、社内限定等）を展開。投稿ページ用属性展開（共通版）。_data/post_schema.yml を元に各種属性を展開
  - [post-list-item.html, _includes/post-list-item.html]  # 個別投稿アイテム。投稿1件表示。
  - [post-list.html, _includes/post-list.html]  # 共通投稿リスト（一覧をループ表示）（個別要素に post-list-item.html を利用）
  - [taxonomy-badge.html, _includes/taxonomy-badge.html]  # タグ・カテゴリのアイコン・バッジ・ラベル・装飾を出力
  - [taxonomy-flags.html, _includes/taxonomy-flags.html]  # （オプション）（用途により使用）表示制御用フラグ出力。分類アイコン群。
  - [taxonomy-list-block.html, _includes/taxonomy-list-block.html]  # カテゴリ・タグのリスト出力（ループ処理）
  - [taxonomy-list.html, _includes/taxonomy-list.html]
      # ↑
      # 各言語ごとのカテゴリ・タグの表示に使う共通部品。
      # カテゴリ・タグ一覧を出力する共通部品テンプレート（内部的には taxonomy-list-block.html を呼び出す）
      # （トップページや分類ページに一覧を表示、_data/taxonomy/schema.yml に従って属性（非表示や制限付き）をフィルタリング、
      # タグの色やアイコン、バッジ表示などに対応）

_layouts:
  
  __files__:
  - [default.html, _layouts/default.html]  # 全体レイアウト。ベースレイアウト（投稿・ページ共通）。
  - [post.html, _layouts/post.html]  # 投稿ページ用（必要であれば）

_pages:
  
  desktop:
    
    en:
      
      categories:
        
        __files__:
        - [index.html, _pages/desktop/en/categories/index.html]
        
      tags:
        
        __files__:
        - [index.html, _pages/desktop/en/tags/index.html]
        
      __files__:
      - [index.html, _pages/desktop/en/index.html]  # PC英語トップ

    ja:
      
      categories:
        
        __files__:
        - [index.html, _pages/desktop/ja/categories/index.html]  # PC日本語カテゴリ一覧
        
      tags:
        
        __files__:
        - [index.html, _pages/desktop/ja/tags/index.html]  # PC日本語タグ一覧
        
      __files__:
      - [index.html, _pages/desktop/ja/index.html]  # PC日本語トップ

  mobile:
    
    en:
      
      categories:
        
        __files__:
        - [index.html, _pages/mobile/en/categories/index.html]
        
      tags:
        
        __files__:
        - [index.html, _pages/mobile/en/tags/index.html]
        
      __files__:
      - [index.html, _pages/mobile/en/index.html]

    ja:
      
      categories:
        
        __files__:
        - [index.html, _pages/mobile/ja/categories/index.html]
        
      tags:
        
        __files__:
        - [index.html, _pages/mobile/ja/tags/index.html]
        
      __files__:
      - [index.html, _pages/mobile/ja/index.html]  # モバイル日本語トップ

  text:
    
    en:
      
      categories:
        
        __files__:
        - [index.html, _pages/text/en/categories/index.html]
        
      tags:
        
        __files__:
        - [index.html, _pages/text/en/tags/index.html]
        
      __files__:
      - [index.html, _pages/text/en/index.html]

    ja:
      
      categories:
        
        __files__:
        - [index.html, _pages/text/ja/categories/index.html]
        
      tags:
        
        __files__:
        - [index.html, _pages/text/ja/tags/index.html]
        
      __files__:
      - [index.html, _pages/text/ja/index.html]  # クローラー日本語トップ

_posts:
  
  en:
    
    2025-05-30-T135040+0900-UUID-en:
      
      __files__:
      - [2025-05-30-T135040+0900-UUID-en.md, _posts/en/2025-05-30-T135040+0900-UUID-en/2025-05-30-T135040+0900-UUID-en.md]
      
    2025-05-31-T135040+0900-UUID-en:
      
      __files__:
      - [2025-05-31-T135040+0900-UUID-en.md, _posts/en/2025-05-31-T135040+0900-UUID-en/2025-05-31-T135040+0900-UUID-en.md]

  ja:
    
    2025-05-30-T135040+0900-UUID-ja:
      
      __files__:
      - [2025-05-30-T135040+0900-UUID-ja.md, _posts/ja/2025-05-30-T135040+0900-UUID-ja/2025-05-30-T135040+0900-UUID-ja.md]
      
    2025-05-31-T135040+0900-UUID-ja:
      
      __files__:
      - [2025-05-31-T135040+0900-UUID-ja.md, _posts/ja/2025-05-31-T135040+0900-UUID-ja/2025-05-31-T135040+0900-UUID-ja.md]

_proj-mgmt:
  
  script:
    
    output:
      
      __files__:
      - [proj_dir_tree.yml, _proj-mgmt/_script/_output/proj_dir_tree.yml]
      
    __files__:
    - [generate_proj_dir_tree.py, _proj-mgmt/_script/generate_proj_dir_tree.py]

_scripts: # 自動生成や前処理を行うユーティリティ

  __files__:
  - [convert-yaml-to-json.js, _scripts/convert-yaml-to-json.js]
  - [generate_category_counts.rb, _scripts/generate_category_counts.rb]
  - [generate_tag_counts.rb, _scripts/generate_tag_counts.rb]
  - [generate_taxonomy_pages.rb, _scripts/generate_taxonomy_pages.rb]
      # ↑
      # タグ・カテゴリページの自動生成スクリプト。タクソノミ自動生成スクリプト。
  - [package.json, _scripts/package.json]

assets: # CSS, JS, 画像等

  css:
    
    __files__:
    - [main.css, assets/css/main.css]  # Tailwind カスタムスタイル等
    
  images:
    
    article:
      
      2025-05-30-T135040+0900-UUID-en:
        
        __files__:
        - [image_1-en.png, assets/images/article/2025-05-30-T135040+0900-UUID-en/image_1-en.png]
        
      2025-05-30-T135040+0900-UUID-ja:
        
        __files__:
        - [image_1-ja.png, assets/images/article/2025-05-30-T135040+0900-UUID-ja/image_1-ja.png]

root_files:
  
  __files__:
  - [_config.yml, _config.yml]  # PC表示（デフォルト）
  - [_config_mobile.yml, _config_mobile.yml]  # モバイル表示専用
  - [_config_text.yml, _config_text.yml]  # クローラー対応専用
  - [index.md, index.md]  # ルートトップ。必要ならルートリダイレクト用
  - [robots.txt, robots.txt]
  - [sitemap.xml, sitemap.xml]
  